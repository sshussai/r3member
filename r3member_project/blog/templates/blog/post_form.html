{% extends 'blog/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
  <div class="content-section">
    <form method="post">
      {% csrf_token %}
      <fieldset class="form-group">
        <legend class="border-bottom mb-4">Blog Post</legend>
          <div id="titleDiv">
              {{ form.title|as_crispy_field }}
          </div>
          <div id="codebuttonDiv">
              <input type="reset" class="btn btn-info" id="codeButton" value="View code box" onclick="hideCodeBox()">
          </div>
          <div id="codeboxDiv" style="display:none">
              {{ form.code|as_crispy_field }}
          </div>
          <div id="contentboxDiv">
              {{ form.content|as_crispy_field }}
          </div>
      </fieldset>
      <div class="form-group">
        <button type="submit" name="usrSubmitButton" class="btn btn-outline-info">Post</button>
      </div>
    </form>
      <script>
        function hideCodeBox() {
          var btn = document.getElementById("codeButton");
          var codeBox = document.getElementById("codeboxDiv");
          if (codeBox.style.display == "none"){
            codeBox.style.display = "block";
            btn.value="Hide code box"
          } else {
            codeBox.style.display = "none";
            btn.value="View code box";
          }
        }
      </script>
  </div>
{% endblock content %}
